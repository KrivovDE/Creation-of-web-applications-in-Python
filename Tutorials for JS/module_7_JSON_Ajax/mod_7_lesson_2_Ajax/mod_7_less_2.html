<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
<!--  <script src="mod_7_less_2_1.js"></script>-->
</head>
<body>

    <form id="form" action="">
        <input type="text" name="name" id="name-inp" >
        <input type="text" name="phone" id="phone-inp" >
        <button type="button" id="id_1"> кнопка </button>
    </form>

<!--<script>-->
<!--let subbliBtn = document.getElementById("submit-btn");-->

<!--subbliBtn.onclick = function () {-->
<!--    let nameValue = document.getElementById("name-inp").value;-->
<!--    let phonValue = document.getElementById("phone-inp").value;-->
<!--    let data = "name=" + encodeURIComponent(nameValue) + "&phone=" + encodeURIComponent(phonValue);-->
<!--    console.log(data)-->

<!--    let request;-->
<!--    if(window.XMLHttpRequest)-->
<!--        request = new XMLHttpRequest();-->
<!--    else-->
<!--        request = new ActiveXObject("Microsoft.XMLHTTP");-->

<!--    request.open("POST", "socket_server.py");-->

<!--    request.onreadystatechange = function(){-->
<!--        if (request.readyState === 4 && request.status === 200)-->
<!--        alert("Здравствуйте " + nameValue + "! Мы перезвоним вам через 1 минуту" );-->
<!--    }-->
<!--    request.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');-->
<!--    request.send(data);-->
<!--}-->
<!--</script>-->


<script>
let subbliBtn = document.getElementById("id_1");

subbliBtn.onclick = function () {
    let form = document.getElementById("form");
    let formData = new FormData(form)
    formData.append("date", new Date().toLocaleString());

    let request;
    if(window.XMLHttpRequest)
        request = new XMLHttpRequest();
    else
        request = new ActiveXObject("Microsoft.XMLHTTP");

    request.open("POST", "socket_server.py");

    request.onreadystatechange = function () {
        if (request.readyState === 4 && request.status === 200)
            alert("Здравствуйте " + nameValue + "! Мы перезвоним вам через 1 минуту");
            console.log("Здравствуйте Мы перезвоним вам через 1 минуту");
    }
    request.setRequestHeader('Content-Type', 'multipart/form-data');
    request.send(formData);
}

</script>

</body>
</html>
